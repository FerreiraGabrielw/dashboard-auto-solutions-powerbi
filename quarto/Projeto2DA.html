<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.31">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Gabriel Ferreira">
<meta name="dcterms.date" content="2022-03-15">

<title>Project: Auto Solutions Dashboard - Sales Performance and Profitability Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="Projeto2DA_files/libs/clipboard/clipboard.min.js"></script>
<script src="Projeto2DA_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="Projeto2DA_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="Projeto2DA_files/libs/quarto-html/popper.min.js"></script>
<script src="Projeto2DA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="Projeto2DA_files/libs/quarto-html/anchor.min.js"></script>
<link href="Projeto2DA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="Projeto2DA_files/libs/quarto-html/quarto-syntax-highlighting-e1a5c8363afafaef2c763b6775fbf3ca.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="Projeto2DA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="Projeto2DA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="Projeto2DA_files/libs/bootstrap/bootstrap-bb462d781dde1847d9e3ccf7736099dd.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">


</head>

<body class="quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-full">

<main class="content column-page" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Project: Auto Solutions Dashboard - Sales Performance and Profitability Analysis</h1>
</div>



<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Gabriel Ferreira </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">March 15, 2022</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="introduction" class="level1">
<h1>Introduction</h1>
<p>This project involves the creation of a Dashboard developed in Power BI, with the objective of offering a comprehensive and detailed view of sales performance, costs, and profitability in the automotive sector. The solution was designed to assist managers and analysts in monitoring key financial and operational indicators by product, date, segment, and geography, enabling the identification of opportunities and challenges for optimizing commercial and production strategies.</p>
<section id="project-structure" class="level2">
<h2 class="anchored" data-anchor-id="project-structure">Project Structure</h2>
<p>The main requirements and indicators developed for this analysis were:</p>
<ul>
<li><strong>Financial Overview</strong>: Display of total Gross Sales, Cost of Goods Sold (COGS), and Total Profit, providing a quick overview of financial health.</li>
<li><strong>Product Performance</strong>: Analysis of Cost of Goods Sold and Gross Sales broken down by vehicle models (Fiat Toro, Jeep Renegade, Honda HR-V, Ford EcoSport, Volkswagen T-Cross, Hyundai Creta).</li>
<li><strong>Profit by Segment</strong>: Detailing the profit generated by different market segments (Government, Company, Internal Market, Small Businesses, Partners).</li>
<li><strong>Units Sold</strong>: Quantification of units sold by product and by country, allowing for the identification of the most popular vehicles and highest-volume markets.</li>
<li><strong>Gross Sales Trend</strong>: Visualization of the evolution of gross sales over time, to identify seasonality and trends.</li>
</ul>
</section>
<section id="technologies-used" class="level2">
<h2 class="anchored" data-anchor-id="technologies-used">Technologies Used</h2>
<p>For the construction of this dashboard, the technologies used were:</p>
<ul>
<li><p><strong>Power BI Desktop</strong>: To connect data sources, model information, create necessary metrics, and develop the interactive visuals that compose the dashboard. Its ability to transform complex data into visual insights was crucial for the project.</p></li>
<li><p><strong>Figma</strong>: Dashboard prototyping and design were done with Figma.</p></li>
</ul>
</section>
<section id="etl-process-extract-transform-and-load" class="level2">
<h2 class="anchored" data-anchor-id="etl-process-extract-transform-and-load">ETL Process (Extract, Transform, and Load)</h2>
<p>The ETL process for this dashboard followed the steps of:</p>
<ol type="1">
<li><strong>Extraction</strong>: Data was obtained from its original sources, coming from sales, inventory, and accounting management systems. The data was exported from a <code>.csv</code> file, containing information about products, sales dates, costs, selling prices, customer segments, and countries.</li>
<li><strong>Transformation</strong>: Using Power Query, Power BI’s data transformation tool, cleaning and enrichment operations were performed. This included:
<ul>
<li>Standardization of product and segment names.</li>
<li>Handling of temporal data to allow analysis by date and period.</li>
<li>Data modeling was carefully defined, establishing relationships between tables, ensuring correct aggregation and filtering of information.</li>
</ul></li>
<li><strong>Loading</strong>: After all transformations and modeling were completed and validated, the data was loaded into the Power BI data model, ready for the creation of reports and dashboards.</li>
</ol>
</section>
</section>
<section id="dashboard" class="level1">
<h1>Dashboard</h1>
<p>The Auto Solutions Dashboard presents, in a clear and intuitive way, a layout that prioritizes the visibility of the most important indicators at the top, followed by more detailed analyses. The visuals are diverse, including key indicator cards, bar charts for product and geography comparisons, segment charts for profit, and line charts for temporal trends, allowing users to deeply explore the data, filtering by product, segment, or period, and thus obtaining specific insights for their needs.</p>
<section id="insights" class="level2">
<h2 class="anchored" data-anchor-id="insights">Insights</h2>
<p>The analysis of the data presented in the Dashboard reveals crucial information about business performance:</p>
<ul>
<li><strong>Global Financial Performance</strong>:
<ul>
<li>The dashboard begins with a strong financial overview, indicating a Total Gross Sales of R$ 39.56 Billion.</li>
<li>The Cost of Goods Sold (COGS) is R$ 25.38 Billion.</li>
<li>This results in a significant Total Profit of R$ 14.18 Billion.</li>
</ul></li>
</ul>
<p>These macro indicators demonstrate a robust sales operation and effective cost control, culminating in healthy profitability for the analyzed period.</p>
<div style="text-align:center;">
<p><img src="imagem1.png" alt=""></p>
</div>
<ul>
<li><strong>Gross Sales and Costs by Product</strong>:
<ul>
<li>Analyzing the “Cost of Goods Sold and Gross Sales by Product”, it is observed that vehicles such as the Fiat Toro and Jeep Renegade show the highest financial volumes.</li>
<li>The Fiat Toro records Gross Sales of R$ 10 Billion and a Cost of Goods Sold of R$ 4 Billion.</li>
<li>The Jeep Renegade also stands out with Gross Sales of R$ 5 Billion and COGS of R$ 3 Billion.</li>
</ul></li>
</ul>
<p>This granularity allows identifying the products that contribute most to revenue and the associated costs, directing attention to optimizing the margin per product.</p>
<div style="text-align:center;">
<p><img src="imagem2.png" alt=""></p>
</div>
<ul>
<li><strong>Profit by Market Segment</strong>:
<ul>
<li>The analysis of “Profit by Segment” is crucial to understand the contribution of each customer type, as visualized in the donut chart.</li>
<li>The Government segment proves to be the most profitable, with R$ 5.82 Billion in contribution, standing out as the largest profit generator.</li>
<li>Following this, the Company (R$ 2.19 Billion) and Intermediate Market (R$ 2.16 Billion) segments are next in terms of profitability, demonstrating the importance of these markets for total revenue.</li>
<li>Channel Partners (R$ 2.01 Billion) and Small Business (R$ 2.00 Billion) also contribute significantly, though with slightly smaller values.</li>
</ul></li>
</ul>
<p>This clear distinction of profitability by segment allows the company to assess where its sales and marketing efforts are generating the highest return, and where there may be opportunities to optimize strategies for segments with lower contribution.</p>
<div style="text-align:center;">
<p><img src="imagem3.png" alt=""></p>
</div>
<ul>
<li><strong>Units Sold by Product and Country</strong>:
<ul>
<li>In terms of volume, the Fiat Toro leads with 0.25 Million units sold, closely followed by the Honda HR-V (0.24 Million) and Jeep Renegade (0.23 Million).</li>
<li>Geographically, Canada is the country with the highest sales volume (0.25 Million), matching the Fiat Toro’s performance in units. Other important markets include France (0.23 Million), United States (0.20 Million), Mexico (0.20 Million), and Germany (0.20 Million).</li>
</ul></li>
</ul>
<p>This data is valuable for inventory management, logistics, and for directing regionalized sales campaigns.</p>
<div style="text-align:center;">
<p><img src="imagem4.png" alt=""></p>
</div>
<ul>
<li><strong>Gross Sales Trend by Date</strong>:
<ul>
<li>The “Gross Sales by Date” chart shows the evolution of sales from January to July 2014.</li>
<li>It is observed that gross sales start at R$ 2.00 Billion in January 2014, with peaks at R$ 2.16 Billion and R$ 2.19 Billion in some subsequent months.</li>
</ul></li>
</ul>
<p>This temporal visualization is fundamental for identifying sales patterns, seasonality, and the impact of any marketing initiatives or specific events that occurred during the period.</p>
<div style="text-align:center;">
<p><img src="imagem5.png" alt=""></p>
</div>
</section>
<section id="considerations" class="level2">
<h2 class="anchored" data-anchor-id="considerations">Considerations</h2>
<p>The Dashboard provides a robust basis for strategic decision-making in the automotive sector. From the insights obtained, some important considerations emerge:</p>
<ul>
<li><strong>Product Margin Optimization</strong>: With the clear visualization of Gross Sales and COGS by product, the company can deepen the cost-benefit analysis of each model. This can lead to decisions on optimizing production processes, negotiating with suppliers, or even adjusting pricing strategies for specific models that show lower margins.</li>
<li><strong>Market Strategies by Segment and Country</strong>: The analysis of profit by segment and units sold by country allows the company to direct its sales and marketing efforts more effectively. For example, if the “Government” or “Company” segment is highly profitable, the company can invest more in B2B sales teams. Similarly, understanding the markets with the highest sales volume, such as Canada, USA, and European countries (France, Germany), can influence the allocation of distribution and advertising resources.</li>
<li><strong>Inventory and Demand Management</strong>: Identifying the models with the highest sales volume (Fiat Toro, Honda HR-V, Jeep Renegade) is vital for inventory management. Maintaining adequate levels of these vehicles avoids sales losses due to product shortages and optimizes storage costs. The temporal analysis of gross sales (Jan-Jul 2014) can be expanded to predict demand peaks and troughs, allowing for a more reactive and efficient supply chain.</li>
<li><strong>Identifying Growth Opportunities</strong>: By understanding which products and markets are performing well, the company can seek to replicate these successes in other regions or for other models. On the other hand, underperforming products and markets can be subject to investigations to understand the reasons and develop recovery plans.</li>
</ul>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<p>The Dashboard was an excellent analytical tool that transforms data into actionable information. Its main contribution lies in its ability to:</p>
<ul>
<li>Provide detailed financial control, from the global sales and cost overview to profitability by product and segment.</li>
<li>Identify the most successful products and markets in terms of sales volume.</li>
<li>Enable temporal trend analysis for more effective demand management.</li>
</ul>
<p>This project demonstrates the ability to create Business Intelligence solutions that empower organizations to deeply understand their performance, optimize operations, mitigate risks, and, ultimately, drive growth and profitability in the competitive automotive market. It is a clear example of how data visualization can be a strategic differentiator.</p>
</section>
<section id="link-to-the-dashboard" class="level2">
<h2 class="anchored" data-anchor-id="link-to-the-dashboard">Link to the Dashboard:</h2>
<p><a href="https://app.powerbi.com/groups/me/reports/3fd60242-5e84-4e13-a6e4-8c12c5b021cc/ReportSectiond76d31f79c73f7fe0e3b?experience=power-bi" target="_blank" rel="noopener noreferrer"> Click here to access the report in Power BI </a></p>
<div style="text-align:center;">
<p><img src="imagem6.png" alt=""></p>
</div>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>